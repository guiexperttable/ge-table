"use strict";(self.webpackChunktable_website=self.webpackChunktable_website||[]).push([[162],{5980:(C,p,l)=>{l.d(p,{Q:()=>f});var m=l(5879);class t{constructor(s="message"){this.storageKey=s,this.received$=new m.vpe,window.addEventListener("storage",this.messageReceived.bind(this))}messageBroadcast(s){localStorage.setItem(this.storageKey,JSON.stringify(s))}messageReceived(s){if(s.key===this.storageKey&&s.newValue){const d=JSON.parse(s.newValue);this.received$.next(d)}}}var e=l(812);class f extends t{constructor(s){super(s)}sync(s,d,h){this.received$.pipe((0,e.o)(h)).subscribe(b=>{b.forEach(c=>{s.style.setProperty(c[0],c[1])}),d()?.repaint()})}}},1162:(C,p,l)=>{l.r(p),l.d(p,{TreetablePeopleModule:()=>M});var m=l(6622),t=l(5879),e=l(4318),f=l(812),g=l(3620),s=l(5980),d=l(9862),h=l(6814),b=l(1262),c=l(2032),y=l(4170),u=l(6223);function x(a,R){if(1&a){const n=t.EpF();t.TgZ(0,"guiexpert-table",4),t.NdJ("modelChanged",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.onModelChanged(i))})("tableReady",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.onTableReady(i))}),t.qZA()}if(2&a){const n=t.oxw();t.Q6J("tableModel",n.tableModel)("tableOptions",n.tableOptions)}}let v=(()=>{class a{constructor(n,o,i){this.http=n,this.cdr=o,this.elementRef=i,this.selectionModel=new e.Ov("range","multi"),this.tableOptions={...new e.jy,hoverColumnVisible:!1,defaultRowHeights:{header:50,body:34,footer:0},autoRestoreOptions:{...new e.zR,getStorageKeyFn:()=>"TreetablePeopleComponent",autoRestoreCollapsedExpandedState:!0,autoRestoreScrollPosition:!0,autoRestoreSortingState:!0},externalFilterFunction:this.filterFn.bind(this),getSelectionModel:()=>this.selectionModel},this.filterText="",this.columnDefs=[new e.Cx("lastName","Last Name",e.aU),new e.Cx("preName","Pre Name",e.yv),e.Cx.create({property:"age",headerLabel:"Age",width:e.i6,bodyRenderer:new e.Fp,editable:e.KP,editInputPipe:e.Z5}),new e.Cx("birth","Birthday",e.cu,void 0,e.Th.bodyRenderer(new e.Si)),e.Cx.create({property:"gender",headerLabel:" ",width:e.x6,bodyRenderer:new e.n8,editable:e.KP,getEditRenderer:()=>new e.nM([new e.yF("female","\u2640"),new e.yF("male","\u2642")])}),new e.Cx("address.street","Strasse",e.Hy),new e.Cx("address.number","Nr",e.NR),new e.Cx("address.zip","Zip",e.J5),new e.Cx("address.city","City",e.yv),new e.Cx("address.country","Country",e.yv),new e.Cx("id","ID",e.J5)],this.filter$=new t.vpe,this.alive=!0;for(const r of this.columnDefs)r.sortable=e.KP,r.editable=e.KP;this.columnDefs[0].editable=e.ag,this.selectionModel.addSelection(new e.lu(0,0,0,2)),this.selectionModel.addSelection(new e.lu(2,1,2,2)),this.selectionModel.addSelection(new e.lu(1,5,6,7)),this.selectionModel.addSelection(new e.lu(0,8,0,8)),this.selectionModel.addSelection(new e.lu(5,6,10,10))}ngOnInit(){this.http.get("/assets/demo/tree-persons.json").subscribe(this.onDataLoaded.bind(this)),this.filter$.pipe((0,f.o)(()=>this.alive),(0,g.b)(200)).subscribe(()=>{this.tableApi?.externalFilterChanged()});const n=location.pathname.match(/\/demo\/(.*?)\/run/);n&&n[1]&&new s.Q(n[1]).sync(this.elementRef.nativeElement,()=>this.tableApi,()=>this.alive)}ngOnDestroy(){this.alive=!1}onKeyup(){this.filter$.next(Date.now())}onTableReady(n){this.tableApi=n}onModelChanged(n){if(n.cells?.length)for(let o=0;o<n.cells.length;o++);}filterFn(n,o,i){return!this.filterText||n.data.address.city.includes(this.filterText)}onDataLoaded(n){const o=e.sc.buildTreeRows(n,"friends");this.tableModel=e.JW.createTableModel({rows:o,columnDefs:this.columnDefs,tableOptions:this.tableOptions,fixedLeftColumnCount:1,fixedRightColumnCount:1}),this.cdr.detectChanges()}static#e=this.\u0275fac=function(o){return new(o||a)(t.Y36(d.eN),t.Y36(t.sBO),t.Y36(t.SBq))};static#t=this.\u0275cmp=t.Xpm({type:a,selectors:[["demo-tree-people"]],decls:6,vars:2,consts:[[1,"filter-div"],["appearance","fill"],["matInput","",3,"ngModel","keyup","ngModelChange"],[3,"tableModel","tableOptions","modelChanged","tableReady",4,"ngIf"],[3,"tableModel","tableOptions","modelChanged","tableReady"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),t._uU(3,"Filter"),t.qZA(),t.TgZ(4,"input",2),t.NdJ("keyup",function(){return i.onKeyup()})("ngModelChange",function(P){return i.filterText=P}),t.qZA()()(),t.YNc(5,x,1,2,"guiexpert-table",3)),2&o&&(t.xp6(4),t.Q6J("ngModel",i.filterText),t.xp6(1),t.Q6J("ngIf",i.tableModel))},dependencies:[h.O5,b.a,c.Nt,y.KE,y.hX,u.Fj,u.JJ,u.On],styles:["[_nghost-%COMP%]{display:grid;grid-template-rows:1fr;position:relative}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{margin-top:0;width:100%;height:100%}.filter-div[_ngcontent-%COMP%]{position:absolute;top:-60px;right:20px;width:200px;height:60px;overflow-y:clip;opacity:.5;z-index:999}  demo-columndef .ge-table-row-even .ge-table-col-div{background-color:#fafafa4d}  demo-columndef .table-div .ge-table-row-odd .ge-table-col-div{background-color:#fff6}"],changeDetection:0})}return a})();var w=l(3403);let T=(()=>{class a{ngOnInit(){}static#e=this.\u0275fac=function(o){return new(o||a)};static#t=this.\u0275cmp=t.Xpm({type:a,selectors:[["demo-treetable-info"]],decls:5,vars:0,consts:[[1,"ge-padding"],["target","_blank","href","https://github.com/guiexperttable/table-website/blob/main/src/app/demos/treetablepeople/treetable-people.component.ts"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"p"),t._uU(2," The model of this demo can be found here: "),t.TgZ(3,"a",1),t._uU(4,"treetable-people.component.ts"),t.qZA()()())},styles:["[_nghost-%COMP%]{display:grid;grid-template-rows:1fr}"],changeDetection:0})}return a})(),M=(()=>{class a{static#e=this.\u0275fac=function(o){return new(o||a)};static#t=this.\u0275mod=t.oAB({type:a});static#n=this.\u0275inj=t.cJS({imports:[d.JF,h.ez,m.ac,w.Bz.forChild([{path:"run",component:v},{path:"info",component:T}]),c.c,y.lN,u.u5]})}return a})()}}]);