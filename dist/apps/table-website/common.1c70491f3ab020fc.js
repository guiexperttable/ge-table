"use strict";(self.webpackChunktable_website=self.webpackChunktable_website||[]).push([[592],{629:(N,x,r)=>{r.d(x,{x:()=>t});var C=r(5879);let t=(()=>{class n{static#e=this.\u0275fac=function(R){return new(R||n)};static#t=this.\u0275mod=C.oAB({type:n});static#n=this.\u0275inj=C.cJS({})}return n})()},6175:(N,x,r)=>{r.r(x),r.d(x,{CryptoTop100Module:()=>S});var C=r(6622),t=r(5879),n=r(4318),e=r(812),U=r(3620);class R{render(m,o,s,p,h,u,b){if(u){const l=Number(u);l<0?(m.innerHTML="\u25be "+l.toFixed(2)+"%",b.addClass(m,"ge-positive-text-color")):(m.innerHTML="\u25b4 "+l.toFixed(2)+"%",b.addClass(m,"ge-negative-text-color"))}}}class A{constructor(){this.formatter=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"})}render(m,o,s,p,h,u,b){if(u){const l=Number(u);m.innerText=this.formatter.format(l)}}}class F{render(m,o,s,p,h,u,b){const l=h.getRowByIndex(o);l&&(m.innerHTML=`\n      <div style="line-height: 1.2;padding: 10px 0 0 10px;">\n        ${l.name??l.symbol}<br>\n        ${l.symbol}\n      </div>\n      `)}}class P{constructor(){this.formatterUsd=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),this.formatter=new Intl.NumberFormat("en-US")}render(m,o,s,p,h,u,b){const l=h.getRowByIndex(o);if(l){const y=this.formatterUsd.format(l.volUsd),w=this.formatter.format(l.volBtc);m.innerHTML=`\n      <div style="line-height: 1.2;padding: 10px 0 0 10px;">\n        ${y}<br>\n        ${w} BTC\n      </div>\n      `}}}class Z{constructor(m=120){this.maxWidth=m,this.formatterUsd=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),this.formatter=new Intl.NumberFormat("en-US")}render(m,o,s,p,h,u,b){const l=h.getRowByIndex(o);if(l){const y=this.formatter.format(l.circulatingSupply),w=l.maxSupply,I=[];I.push('<div style="line-height: 1.2;padding: 10px 0 0 10px;">'),I.push(y),I.push("<br>"),w&&I.push(`\n          <div style="width: ${this.maxWidth}px;height: 5px;background-color: #eee;margin:10px 0 0 10px">\n            <div style="width: ${this.maxWidth*l.circulatingSupply/w}px;height: 5px;background-color: #ccc;"></div>\n          </div>\n        `),I.push("</div>"),m.innerHTML=I.join("")}}}class D{constructor(m=120){this.maxWidth=m,this.formatterUsd=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),this.formatter=new Intl.NumberFormat("en-US")}render(m,o,s,p,h,u,b){const l=h.getRowByIndex(o);l?.id&&(m.innerHTML=`<img src="https://s2.coinmarketcap.com/static/img/coins/64x64/${l.id}.png" style="width:30px;height: 30px;margin: 10px 10px 0 20px;">`)}}var O=r(9862),d=r(6814),_=r(1262),a=r(2032),c=r(4170),g=r(6223);function T(i,m){if(1&i){const o=t.EpF();t.TgZ(0,"guiexpert-table",4),t.NdJ("tableReady",function(p){t.CHM(o);const h=t.oxw();return t.KtG(h.onTableReady(p))}),t.qZA()}if(2&i){const o=t.oxw();t.Q6J("tableModel",o.tableModel)("tableOptions",o.tableOptions)}}const L=function(i){return{small:i}};let f=(()=>{class i{constructor(o,s){this.http=o,this.cdr=s,this.small=!1,this.selectionModel=new n.Ov("row","multi"),this.tableOptions={...new n.jy,hoverColumnVisible:!1,verticalBorderVisible:!1,defaultRowHeights:{header:34,body:50,footer:0},externalFilterFunction:this.filterFn.bind(this),getSelectionModel:()=>this.selectionModel},this.filterText="",this.filterService=new n.K,this.filter$=new t.vpe,this.alive=!0}ngOnInit(){this.http.get("/assets/demo/crypto-top-100.json").subscribe(this.onDataLoaded.bind(this)),this.filter$.pipe((0,e.o)(()=>this.alive),(0,U.b)(400)).subscribe(()=>{console.info(this.filterText),this.tableApi?.externalFilterChanged()})}ngOnDestroy(){this.alive=!1}onKeyup(){this.filter$.next(Date.now())}onTableReady(o){this.tableApi=o,this.filterText&&this.tableApi?.externalFilterChanged()}filterFn(o,s,p){if(!this.filterText)return!0;const h=this.filterText.toLowerCase();return o.name?.toLowerCase().includes(h)||o.symbol?.toLowerCase().includes(h)||o.tags?.join("")?.toLowerCase().includes(h)||(""+o.id).includes(h)}onDataLoaded(o){const s=new R,p=new A,h=new F,u=new P,b=new Z(120),l=new D(120),y=[n.Cx.create({property:"symbol",headerLabel:"",width:n.J5,bodyClasses:["ge-table-text-align-left"],bodyRenderer:l}),n.Cx.create({property:"symbol",headerLabel:"Name",width:n.yv,bodyClasses:["ge-table-text-align-left"],headerClasses:["ge-table-text-align-left"],bodyRenderer:h}),n.Cx.create({property:"priceInUsd",headerLabel:"Price $",width:n.cu,bodyClasses:["ge-table-text-align-right"],headerClasses:["ge-table-text-align-right"]}),new n.Cx("change1h","1h %",n.cu,void 0,n.Cx.bodyRenderer(s)),new n.Cx("change24h","24h %",n.cu,void 0,n.Cx.bodyRenderer(s)),new n.Cx("change7d","7d %",n.cu,void 0,n.Cx.bodyRenderer(s)),n.Cx.create({property:"marketCapUsd",headerLabel:"Market Cap",width:n.KT,bodyClasses:["ge-table-text-align-right"],headerClasses:["ge-table-text-align-right"],bodyRenderer:p}),n.Cx.create({headerLabel:"Volumne (24h)",width:n.aU,bodyClasses:["ge-table-text-align-right"],headerClasses:["ge-table-text-align-right"],bodyRenderer:u}),n.Cx.create({property:"circulatingSupply",headerLabel:"Circulating Supply",width:n.S_,bodyRenderer:b,bodyClasses:["ge-table-text-align-right"],headerClasses:["ge-table-text-align-right"]})];y.forEach(w=>w.sortable=()=>!0),this.tableModel=n.JW.createTableModel({rows:o,columnDefs:y,tableOptions:this.tableOptions}),this.cdr.detectChanges()}static#e=this.\u0275fac=function(s){return new(s||i)(t.Y36(O.eN),t.Y36(t.sBO))};static#t=this.\u0275cmp=t.Xpm({type:i,selectors:[["crypto-top-100-demo"]],inputs:{small:"small"},decls:6,vars:5,consts:[["class","table-div",3,"tableModel","tableOptions","tableReady",4,"ngIf"],[1,"filter-div",3,"ngClass"],["appearance","fill"],["matInput","",3,"ngModel","keyup","ngModelChange"],[1,"table-div",3,"tableModel","tableOptions","tableReady"]],template:function(s,p){1&s&&(t.YNc(0,T,1,2,"guiexpert-table",0),t.TgZ(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),t._uU(4,"Filter"),t.qZA(),t.TgZ(5,"input",3),t.NdJ("keyup",function(){return p.onKeyup()})("ngModelChange",function(u){return p.filterText=u}),t.qZA()()()),2&s&&(t.Q6J("ngIf",p.tableModel),t.xp6(1),t.Q6J("ngClass",t.VKq(3,L,p.small)),t.xp6(4),t.Q6J("ngModel",p.filterText))},dependencies:[d.mk,d.O5,_.a,a.Nt,c.KE,c.hX,g.Fj,g.JJ,g.On],styles:["[_nghost-%COMP%]{display:grid;grid-template-rows:1fr}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{margin:0;width:100%;height:100%}.filter-div[_ngcontent-%COMP%]{position:absolute;top:4px;left:500px;width:200px;height:60px;overflow-y:clip;opacity:.5;z-index:999}.filter-div.small[_ngcontent-%COMP%]{position:relative;top:calc(-50vh - 15px);left:226px;width:200px;height:60px;z-index:999}  demo-columndef .ge-table-row-even .ge-table-col-div{background-color:#fafafa4d}  demo-columndef .table-div .ge-table-row-odd .ge-table-col-div{background-color:#fff6}"]})}return i})();var v=r(3403);let M=(()=>{class i{ngOnInit(){}static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275cmp=t.Xpm({type:i,selectors:[["crpyto-top-100-demo-info"]],decls:3,vars:0,consts:[[1,"ge-padding"]],template:function(s,p){1&s&&(t.TgZ(0,"div",0)(1,"p"),t._uU(2,"More information coming soon."),t.qZA()())},styles:["[_nghost-%COMP%]{display:grid;grid-template-rows:1fr}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{margin:0;width:calc(100% - 32px);height:100%}source-code[_ngcontent-%COMP%]{margin-bottom:16px}"],changeDetection:0})}return i})(),S=(()=>{class i{static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[O.JF,d.ez,C.ac,v.Bz.forChild([{path:"run",component:f},{path:"info",component:M}]),a.c,c.lN,g.u5]})}return i})()},3560:(N,x,r)=>{r.r(x),r.d(x,{TimetableDemoModule:()=>O});var C=r(6814),t=r(6304),n=r(5980),e=r(5879),U=r(1262);function R(d,_){if(1&d){const a=e.EpF();e.TgZ(0,"guiexpert-table",1),e.NdJ("tableReady",function(g){e.CHM(a);const T=e.oxw();return e.KtG(T.onTableReady(g))}),e.qZA()}if(2&d){const a=e.oxw();e.Q6J("tableModel",a.tableModel)("tableOptions",a.tableOptions)}}let A=(()=>{class d{constructor(a){this.elementRef=a,this.tableModel=(0,t.vB)(),this.tableOptions=t.b9,this.running=!0,this.freezeUi=!1,this.forcedColorPickerHash="",this.alive=!0}ngOnDestroy(){this.alive=!1}onTableReady(a){this.tableApi=a,this.sendUpdateTableModelEvents()}ngOnInit(){if(this.forcedColorPickerHash)new n.Q(this.forcedColorPickerHash).sync(this.elementRef.nativeElement,()=>this.tableApi,()=>this.alive);else{const a=location.pathname.match(/\/demo\/(.*?)\/run/);a&&a[1]&&new n.Q(a[1]).sync(this.elementRef.nativeElement,()=>this.tableApi,()=>this.alive)}}sendUpdateTableModelEvents(){if(this.running&&this.tableApi){if(!this.freezeUi){const a=this.tableModel?.getBodyModel(),c=this.tableModel?.getAreaModel("footer");if(this.tableApi&&a&&c){const g=Math.round(1+3*Math.random()),T=(a?.getRowCount()??0)-1,L=new Date;for(let f=0;f<g;f++){const v=Math.floor(999*Math.random()),M=this.rndm(4,t.nS-1),S=this.rndm(0,T);a.setValue(S,M,v),a.setValue(S,t.nS,L)}for(let f=4;f<t.nS;f++){let v=0;for(let M=0;M<T;M++)v+=a.getValueAt(M,f);c.setValue(0,f,v)}this.tableApi.repaint()}}setTimeout(()=>{requestAnimationFrame(this.sendUpdateTableModelEvents.bind(this))},16)}}rndm(a,c){return Math.min(c,Math.round(a+(c-a)*Math.random()))}static#e=this.\u0275fac=function(c){return new(c||d)(e.Y36(e.SBq))};static#t=this.\u0275cmp=e.Xpm({type:d,selectors:[["timetable-demo"]],inputs:{freezeUi:"freezeUi",forcedColorPickerHash:"forcedColorPickerHash"},decls:1,vars:1,consts:[[3,"tableModel","tableOptions","tableReady",4,"ngIf"],[3,"tableModel","tableOptions","tableReady"]],template:function(c,g){1&c&&e.YNc(0,R,1,2,"guiexpert-table",0),2&c&&e.Q6J("ngIf",g.tableModel)},dependencies:[C.O5,U.a],styles:["[_nghost-%COMP%]{display:grid;grid-template-rows:1fr}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{margin:0;width:100%;height:100%}  demo-objectarray .ge-table-row-even .ge-table-col-div{background-color:#fafafa4d}  demo-objectarray .table-div .ge-table-row-odd .ge-table-col-div{background-color:#ffffff4d}"],changeDetection:0})}return d})();var F=r(6622),P=r(3403);let Z=(()=>{class d{ngOnInit(){}static#e=this.\u0275fac=function(c){return new(c||d)};static#t=this.\u0275cmp=e.Xpm({type:d,selectors:[["demo-timetable-info"]],decls:20,vars:0,consts:[[1,"ge-padding"],["target","_blank","href","https://github.com/guiexperttable/table-website/blob/main/src/app/demos/timetable/timetable-demo.component.ts"]],template:function(c,g){1&c&&(e.TgZ(0,"div",0)(1,"p"),e._uU(2," The model of this demo can be found here: "),e.TgZ(3,"a",1),e._uU(4,"timetable-demo.component.ts"),e.qZA()(),e.TgZ(5,"p"),e._uU(6," The method "),e.TgZ(7,"i"),e._uU(8,"sendUpdateTableModelEvents()"),e.qZA(),e._uU(9," is triggered up to 60 times per second. The function "),e.TgZ(10,"i"),e._uU(11,"getBodyModel()"),e.qZA(),e._uU(12," returns the body model, new values are set by "),e.TgZ(13,"i"),e._uU(14,"bodyModel.setValue(row, col, val)"),e.qZA(),e._uU(15,". "),e.qZA(),e.TgZ(16,"p"),e._uU(17,"In this demo you can also see that the first, second and last columns are fixed."),e.qZA(),e.TgZ(18,"p"),e._uU(19,"The header has two rows with colspan and rowspan."),e.qZA()())},styles:["[_nghost-%COMP%]{display:grid;grid-template-rows:1fr}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{margin:0;width:calc(100% - 32px);height:100%}source-code[_ngcontent-%COMP%]{margin-bottom:16px}"],changeDetection:0})}return d})();var D=r(9236);let O=(()=>{class d{static#e=this.\u0275fac=function(c){return new(c||d)};static#t=this.\u0275mod=e.oAB({type:d});static#n=this.\u0275inj=e.cJS({imports:[C.ez,F.ac,P.Bz.forChild([{path:"run",component:A},{path:"info",component:Z}]),D.d]})}return d})()}}]);