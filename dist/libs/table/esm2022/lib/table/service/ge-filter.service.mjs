export class GeFilterService {
    filterPredict(item, filterString, toString = this.objectToString.bind(this)) {
        if (!item) {
            return false;
        }
        if (!filterString) {
            return true;
        }
        filterString = filterString.toLowerCase();
        const prefixMust = "+";
        const prefixNot = "-";
        const arr = filterString.toLowerCase().split(" ").filter(s => s !== prefixMust && s !== prefixNot && s !== "");
        const ors = arr
            .filter(f => !f.startsWith(prefixMust) && !f.startsWith(prefixNot));
        const musts = arr
            .filter(f => f.startsWith(prefixMust))
            .map(s => s.replace(/\+/g, ""));
        const nots = arr
            .filter(f => f.startsWith(prefixNot))
            .map(s => s.replace(/-/g, ""));
        let or = !ors.length;
        for (let i = 0; i < ors.length; i++) {
            if (or || toString(item).includes(ors[i])) {
                or = true;
            }
        }
        if (!or) {
            return false;
        }
        for (let i = 0; i < musts.length; i++) {
            if (!toString(item).includes(musts[i])) {
                return false;
            }
        }
        for (let i = 0; i < nots.length; i++) {
            if (toString(item).includes(nots[i])) {
                return false;
            }
        }
        return true;
    }
    filterRows(rows, filterString, toString = (t) => JSON.stringify(t).toLowerCase()) {
        if (!rows) {
            return [];
        }
        if (!filterString) {
            return [...rows];
        }
        filterString = filterString.toLowerCase();
        const prefixMust = "+";
        const prefixNot = "-";
        const arr = filterString.toLowerCase().split(" ").filter(s => s !== prefixMust && s !== prefixNot && s !== "");
        const ors = arr
            .filter(f => !f.startsWith(prefixMust) && !f.startsWith(prefixNot));
        const musts = arr
            .filter(f => f.startsWith(prefixMust))
            .map(s => s.replace(/\+/g, ""));
        const nots = arr
            .filter(f => f.startsWith(prefixNot))
            .map(s => s.replace(/-/g, ""));
        return rows?.filter(f => {
            let or = !ors.length;
            for (let i = 0; i < ors.length; i++) {
                if (or || toString(f).includes(ors[i])) {
                    or = true;
                }
            }
            if (!or) {
                return false;
            }
            for (let i = 0; i < musts.length; i++) {
                if (!toString(f).includes(musts[i])) {
                    return false;
                }
            }
            for (let i = 0; i < nots.length; i++) {
                if (toString(f).includes(nots[i])) {
                    return false;
                }
            }
            return true;
        });
    }
    objectToString(o) {
        if (!o) {
            return "";
        }
        const buf = [];
        const keys = Object.keys(o);
        for (let i = 0; i < keys.length; i++) {
            const key = keys[i];
            // @ts-ignore
            buf.push(o[key]);
        }
        return buf.join(" ").toLowerCase();
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2UtZmlsdGVyLnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL3RhYmxlL3NyYy9saWIvdGFibGUvc2VydmljZS9nZS1maWx0ZXIuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLE9BQU8sZUFBZTtJQUcxQixhQUFhLENBQ1gsSUFBTyxFQUNQLFlBQW9CLEVBQ3BCLFdBQTZCLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztRQUczRCxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1QsT0FBTyxLQUFLLENBQUM7U0FDZDtRQUNELElBQUksQ0FBQyxZQUFZLEVBQUU7WUFDakIsT0FBTyxJQUFJLENBQUM7U0FDYjtRQUNELFlBQVksR0FBRyxZQUFZLENBQUMsV0FBVyxFQUFFLENBQUM7UUFFMUMsTUFBTSxVQUFVLEdBQUcsR0FBRyxDQUFDO1FBQ3ZCLE1BQU0sU0FBUyxHQUFHLEdBQUcsQ0FBQztRQUN0QixNQUFNLEdBQUcsR0FBRyxZQUFZLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxVQUFVLElBQUksQ0FBQyxLQUFLLFNBQVMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7UUFFL0csTUFBTSxHQUFHLEdBQWEsR0FBRzthQUN0QixNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7UUFFdEUsTUFBTSxLQUFLLEdBQWEsR0FBRzthQUN4QixNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2FBQ3JDLEdBQUcs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QUFDO2lCQUNkO2FBQ0Y7WUFDRCxPQUFPLElBQUksQ0FBQztRQUNkLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELGNBQWMsQ0FBSSxDQUFJO1FBQ3BCLElBQUksQ0FBQyxDQUFDLEVBQUU7WUFDTixPQUFPLEVBQUUsQ0FBQztTQUNYO1FBQ0QsTUFBTSxHQUFHLEdBQWMsRUFBRSxDQUFDO1FBQzFCLE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDcEMsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BCLGFBQWE7WUFDYixHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1NBQ2xCO1FBQ0QsT0FBTyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3JDLENBQUM7Q0FFRiIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBHZUZpbHRlclNlcnZpY2Uge1xuXG5cbiAgZmlsdGVyUHJlZGljdDxUPihcbiAgICBpdGVtOiBULFxuICAgIGZpbHRlclN0cmluZzogc3RyaW5nLFxuICAgIHRvU3RyaW5nOiAodDogVCkgPT4gc3RyaW5nID0gdGhpcy5vYmplY3RUb1N0cmluZy5iaW5kKHRoaXMpXG4gICk6IGJvb2xlYW4ge1xuXG4gICAgaWYgKCFpdGVtKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghZmlsdGVyU3RyaW5nKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZmlsdGVyU3RyaW5nID0gZmlsdGVyU3RyaW5nLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBjb25zdCBwcmVmaXhNdXN0ID0gXCIrXCI7XG4gICAgY29uc3QgcHJlZml4Tm90ID0gXCItXCI7XG4gICAgY29uc3QgYXJyID0gZmlsdGVyU3RyaW5nLnRvTG93ZXJDYXNlKCkuc3BsaXQoXCIgXCIpLmZpbHRlcihzID0+IHMgIT09IHByZWZpeE11c3QgJiYgcyAhPT0gcHJlZml4Tm90ICYmIHMgIT09IFwiXCIpO1xuXG4gICAgY29uc3Qgb3JzOiBzdHJpbmdbXSA9IGFyclxuICAgICAgLmZpbHRlcihmID0+ICFmLnN0YXJ0c1dpdGgocHJlZml4TXVzdCkgJiYgIWYuc3RhcnRzV2l0aChwcmVmaXhOb3QpKTtcblxuICAgIGNvbnN0IG11c3RzOiBzdHJpbmdbXSA9IGFyclxuICAgICAgLmZpbHRlcihmID0+IGYuc3RhcnRzV2l0aChwcmVmaXhNdXN0KSlcbiAgICAgIC5tYXAocyA9PiBzLnJlcGxhY2UoL1xcKy9nLCBcIlwiKSk7XG5cbiAgICBjb25zdCBub3RzOiBzdHJpbmdbXSA9IGFyclxuICAgICAgLmZpbHRlcihmID0+IGYuc3RhcnRzV2l0aChwcmVmaXhOb3QpKVxuICAgICAgLm1hcChzID0+IHMucmVwbGFjZSgvLS9nLCBcIlwiKSk7XG5cbiAgICBsZXQgb3IgPSAhb3JzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKG9yIHx8IHRvU3RyaW5nKGl0ZW0pLmluY2x1ZGVzKG9yc1tpXSkpIHtcbiAgICAgICAgb3IgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW9yKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbXVzdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghdG9TdHJpbmcoaXRlbSkuaW5jbHVkZXMobXVzdHNbaV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodG9TdHJpbmcoaXRlbSkuaW5jbHVkZXMobm90c1tpXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG5cbiAgZmlsdGVyUm93czxUPihcbiAgICByb3dzOiBUW10sXG4gICAgZmlsdGVyU3RyaW5nOiBzdHJpbmcsXG4gICAgdG9TdHJpbmc6ICh0OiBUKSA9PiBzdHJpbmcgPSAodDogVCkgPT4gSlNPTi5zdHJpbmdpZnkodCkudG9Mb3dlckNhc2UoKVxuICApOiBUW10ge1xuXG4gICAgaWYgKCFyb3dzKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmICghZmlsdGVyU3RyaW5nKSB7XG4gICAgICByZXR1cm4gWy4uLnJvd3NdO1xuICAgIH1cbiAgICBmaWx0ZXJTdHJpbmcgPSBmaWx0ZXJTdHJpbmcudG9Mb3dlckNhc2UoKTtcblxuICAgIGNvbnN0IHByZWZpeE11c3QgPSBcIitcIjtcbiAgICBjb25zdCBwcmVmaXhOb3QgPSBcIi1cIjtcbiAgICBjb25zdCBhcnIgPSBmaWx0ZXJTdHJpbmcudG9Mb3dlckNhc2UoKS5zcGxpdChcIiBcIikuZmlsdGVyKHMgPT4gcyAhPT0gcHJlZml4TXVzdCAmJiBzICE9PSBwcmVmaXhOb3QgJiYgcyAhPT0gXCJcIik7XG5cbiAgICBjb25zdCBvcnM6IHN0cmluZ1tdID0gYXJyXG4gICAgICAuZmlsdGVyKGYgPT4gIWYuc3RhcnRzV2l0aChwcmVmaXhNdXN0KSAmJiAhZi5zdGFydHNXaXRoKHByZWZpeE5vdCkpO1xuXG4gICAgY29uc3QgbXVzdHM6IHN0cmluZ1tdID0gYXJyXG4gICAgICAuZmlsdGVyKGYgPT4gZi5zdGFydHNXaXRoKHByZWZpeE11c3QpKVxuICAgICAgLm1hcChzID0+IHMucmVwbGFjZSgvXFwrL2csIFwiXCIpKTtcblxuICAgIGNvbnN0IG5vdHM6IHN0cmluZ1tdID0gYXJyXG4gICAgICAuZmlsdGVyKGYgPT4gZi5zdGFydHNXaXRoKHByZWZpeE5vdCkpXG4gICAgICAubWFwKHMgPT4gcy5yZXBsYWNlKC8tL2csIFwiXCIpKTtcblxuICAgIHJldHVybiByb3dzPy5maWx0ZXIoZiA9PiB7XG4gICAgICBsZXQgb3IgPSAhb3JzLmxlbmd0aDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChvciB8fCB0b1N0cmluZyhmKS5pbmNsdWRlcyhvcnNbaV0pKSB7XG4gICAgICAgICAgb3IgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIW9yKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbXVzdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCF0b1N0cmluZyhmKS5pbmNsdWRlcyhtdXN0c1tpXSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm90cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodG9TdHJpbmcoZikuaW5jbHVkZXMobm90c1tpXSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICB9XG5cbiAgb2JqZWN0VG9TdHJpbmc8VD4obzogVCk6IHN0cmluZyB7XG4gICAgaWYgKCFvKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgY29uc3QgYnVmOiB1bmtub3duW10gPSBbXTtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMobyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgYnVmLnB1c2gob1trZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ1Zi5qb2luKFwiIFwiKS50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbn1cbiJdfQ==