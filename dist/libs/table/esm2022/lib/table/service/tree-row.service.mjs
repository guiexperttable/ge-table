export class TreeRowService {
    flattenTree(rows, ret = []) {
        for (const row of rows) {
            if (this.isVisible(row)) {
                ret.push(row);
            }
            if (row.children?.length) {
                this.flattenTree(row.children, ret);
            }
        }
        return ret;
    }
    isVisible(row) {
        if (!row.parent) {
            return true;
        }
        if (!row.parent.expanded) {
            return false;
        }
        return this.isVisible(row.parent);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJlZS1yb3cuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvdGFibGUvc3JjL2xpYi90YWJsZS9zZXJ2aWNlL3RyZWUtcm93LnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsTUFBTSxPQUFPLGNBQWM7SUFFekIsV0FBVyxDQUNULElBQWtCLEVBQ2xCLE1BQW9CLEVBQUU7UUFHdEIsS0FBSyxNQUFNLEdBQUcsSUFBSSxJQUFJLEVBQUU7WUFDdEIsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFO2dCQUN2QixHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQ2Y7WUFDRCxJQUFJLEdBQUcsQ0FBQyxRQUFRLEVBQUUsTUFBTSxFQUFFO2dCQUN4QixJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUM7YUFDckM7U0FDRjtRQUNELE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQztJQUVELFNBQVMsQ0FBQyxHQUFpQjtRQUN6QixJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRTtZQUNmLE9BQU8sSUFBSSxDQUFDO1NBQ2I7UUFDRCxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUU7WUFDeEIsT0FBTyxLQUFLLENBQUM7U0FDZDtRQUNELE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDcEMsQ0FBQztDQUVGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVHJlZVJvdyB9IGZyb20gXCIuLi9kYXRhL2NvbW1vbi90cmVlLXJvd1wiO1xuXG5leHBvcnQgY2xhc3MgVHJlZVJvd1NlcnZpY2Uge1xuXG4gIGZsYXR0ZW5UcmVlPFQ+KFxuICAgIHJvd3M6IFRyZWVSb3c8VD5bXSxcbiAgICByZXQ6IFRyZWVSb3c8VD5bXSA9IFtdXG4gICk6IFRyZWVSb3c8VD5bXSB7XG5cbiAgICBmb3IgKGNvbnN0IHJvdyBvZiByb3dzKSB7XG4gICAgICBpZiAodGhpcy5pc1Zpc2libGUocm93KSkge1xuICAgICAgICByZXQucHVzaChyb3cpO1xuICAgICAgfVxuICAgICAgaWYgKHJvdy5jaGlsZHJlbj8ubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuZmxhdHRlblRyZWUocm93LmNoaWxkcmVuLCByZXQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9XG5cbiAgaXNWaXNpYmxlKHJvdzogVHJlZVJvdzxhbnk+KTogYm9vbGVhbiB7XG4gICAgaWYgKCFyb3cucGFyZW50KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFyb3cucGFyZW50LmV4cGFuZGVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmlzVmlzaWJsZShyb3cucGFyZW50KTtcbiAgfVxuXG59XG4iXX0=