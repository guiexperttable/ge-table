import { AbstractStoreStateService } from "./abstract-store-state.service";
export class StoreStateSortingService extends AbstractStoreStateService {
    SORTING_STATE = "sortingState";
    sortItems = [];
    constructor(fn) {
        super(fn);
        this.load();
    }
    getSortItems() {
        return this.sortItems;
    }
    setSortItems(sortItems) {
        this.sortItems = sortItems;
        this.checkAndPersistItem(this.SORTING_STATE, this.sortItems);
    }
    load() {
        const fn = this.getStorageKeyFn;
        if (fn) {
            const key = fn();
            if (key) {
                // A main key is given by function from options
                const subKey = key + this.SORTING_STATE;
                let sortItems = this.loadFromLocalStorage(subKey);
                this.sortItems = sortItems ? sortItems : [];
            }
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmUtc3RhdGUtc29ydGluZy5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy90YWJsZS9zcmMvbGliL3RhYmxlL3NlcnZpY2Uvc3RvcmUtc3RhdGUtc29ydGluZy5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBSzNFLE1BQU0sT0FBTyx3QkFBeUIsU0FBUSx5QkFBeUI7SUFFcEQsYUFBYSxHQUFHLGNBQWMsQ0FBQztJQUN4QyxTQUFTLEdBQWUsRUFBRSxDQUFDO0lBR25DLFlBQVksRUFBK0I7UUFDekMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ1YsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUVELFlBQVk7UUFDVixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDeEIsQ0FBQztJQUVELFlBQVksQ0FBQyxTQUFxQjtRQUNoQyxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUMzQixJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDL0QsQ0FBQztJQUdrQixJQUFJO1FBQ3JCLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUM7UUFDaEMsSUFBSSxFQUFFLEVBQUU7WUFDTixNQUFNLEdBQUcsR0FBRyxFQUFFLEVBQUUsQ0FBQztZQUNqQixJQUFJLEdBQUcsRUFBRTtnQkFDUCwrQ0FBK0M7Z0JBQy9DLE1BQU0sTUFBTSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDO2dCQUN4QyxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQWEsTUFBTSxDQUFDLENBQUM7Z0JBQzlELElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQzthQUM3QztTQUNGO0lBQ0gsQ0FBQztDQUdGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWJzdHJhY3RTdG9yZVN0YXRlU2VydmljZSB9IGZyb20gXCIuL2Fic3RyYWN0LXN0b3JlLXN0YXRlLnNlcnZpY2VcIjtcbmltcG9ydCB7IEdldFN0b3JhZ2VLZXlGbiB9IGZyb20gXCIuLi9kYXRhL29wdGlvbnMvYXV0by1yZXN0b3JlLW9wdGlvbnMuaWZcIjtcbmltcG9ydCB7IFNvcnRJdGVtIH0gZnJvbSBcIi4uL2RhdGEvY29tbW9uL3NvcnQtaXRlbVwiO1xuXG5cbmV4cG9ydCBjbGFzcyBTdG9yZVN0YXRlU29ydGluZ1NlcnZpY2UgZXh0ZW5kcyBBYnN0cmFjdFN0b3JlU3RhdGVTZXJ2aWNlIHtcblxuICBwcml2YXRlIHJlYWRvbmx5IFNPUlRJTkdfU1RBVEUgPSBcInNvcnRpbmdTdGF0ZVwiO1xuICBwcml2YXRlIHNvcnRJdGVtczogU29ydEl0ZW1bXSA9IFtdO1xuXG5cbiAgY29uc3RydWN0b3IoZm46IEdldFN0b3JhZ2VLZXlGbiB8IHVuZGVmaW5lZCkge1xuICAgIHN1cGVyKGZuKTtcbiAgICB0aGlzLmxvYWQoKTtcbiAgfVxuXG4gIGdldFNvcnRJdGVtcygpOiBTb3J0SXRlbVtdIHtcbiAgICByZXR1cm4gdGhpcy5zb3J0SXRlbXM7XG4gIH1cblxuICBzZXRTb3J0SXRlbXMoc29ydEl0ZW1zOiBTb3J0SXRlbVtdKTogdm9pZCB7XG4gICAgdGhpcy5zb3J0SXRlbXMgPSBzb3J0SXRlbXM7XG4gICAgdGhpcy5jaGVja0FuZFBlcnNpc3RJdGVtKHRoaXMuU09SVElOR19TVEFURSwgdGhpcy5zb3J0SXRlbXMpO1xuICB9XG5cblxuICBwcm90ZWN0ZWQgb3ZlcnJpZGUgbG9hZCgpIHtcbiAgICBjb25zdCBmbiA9IHRoaXMuZ2V0U3RvcmFnZUtleUZuO1xuICAgIGlmIChmbikge1xuICAgICAgY29uc3Qga2V5ID0gZm4oKTtcbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgLy8gQSBtYWluIGtleSBpcyBnaXZlbiBieSBmdW5jdGlvbiBmcm9tIG9wdGlvbnNcbiAgICAgICAgY29uc3Qgc3ViS2V5ID0ga2V5ICsgdGhpcy5TT1JUSU5HX1NUQVRFO1xuICAgICAgICBsZXQgc29ydEl0ZW1zID0gdGhpcy5sb2FkRnJvbUxvY2FsU3RvcmFnZTxTb3J0SXRlbVtdPihzdWJLZXkpO1xuICAgICAgICB0aGlzLnNvcnRJdGVtcyA9IHNvcnRJdGVtcyA/IHNvcnRJdGVtcyA6IFtdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG5cbn1cbiJdfQ==