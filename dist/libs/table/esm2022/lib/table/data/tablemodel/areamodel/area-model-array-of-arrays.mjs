import { AbstractAreaModel } from "./abstract-area-model";
export class AreaModelArrayOfArrays extends AbstractAreaModel {
    areaIdent;
    arr;
    defaultRowHeight;
    columnDefs;
    filteredArr;
    constructor(areaIdent, arr, defaultRowHeight, columnDefs = []) {
        super(areaIdent, columnDefs, defaultRowHeight);
        this.areaIdent = areaIdent;
        this.arr = arr;
        this.defaultRowHeight = defaultRowHeight;
        this.columnDefs = columnDefs;
        this.filteredArr = [...arr];
    }
    externalFilterChanged(predictFn) {
        this.filteredArr = this.arr ? this.arr.filter(predictFn) : [];
    }
    getRowCount() {
        if (this.filteredArr) {
            return this.filteredArr.length;
        }
        return 0;
    }
    getValueAt(rowIndex, columnIndex) {
        return this.filteredArr[rowIndex][columnIndex];
    }
    setValue(rowIndex, columnIndex, value) {
        const editInputPipe = this.columnDefs[columnIndex]?.editInputPipe;
        if (editInputPipe) {
            value = editInputPipe(value, rowIndex, columnIndex);
        }
        this.arr[rowIndex][columnIndex] = value;
        return true;
    }
    getRowByIndex(rowIndex) {
        return this.filteredArr[rowIndex];
    }
    getRowHeight(_rowIndex) {
        return this.defaultRowHeight;
    }
    changeColumnOrder(sourceColumnIndex, targetColumnIndex) {
        this.filteredArr.forEach(row => this.arrayMove(row, sourceColumnIndex, targetColumnIndex));
        super.changeColumnOrder(sourceColumnIndex, targetColumnIndex);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXJlYS1tb2RlbC1hcnJheS1vZi1hcnJheXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL3RhYmxlL3NyYy9saWIvdGFibGUvZGF0YS90YWJsZW1vZGVsL2FyZWFtb2RlbC9hcmVhLW1vZGVsLWFycmF5LW9mLWFycmF5cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUsxRCxNQUFNLE9BQU8sc0JBQTBCLFNBQVEsaUJBQXdCO0lBS25EO0lBQ0E7SUFDQTtJQUNHO0lBTmQsV0FBVyxDQUFRO0lBRTFCLFlBQ2tCLFNBQW9CLEVBQ3BCLEdBQVUsRUFDVixnQkFBd0IsRUFDckIsYUFBNEIsRUFBRTtRQUVqRCxLQUFLLENBQUMsU0FBUyxFQUFFLFVBQVUsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO1FBTC9CLGNBQVMsR0FBVCxTQUFTLENBQVc7UUFDcEIsUUFBRyxHQUFILEdBQUcsQ0FBTztRQUNWLHFCQUFnQixHQUFoQixnQkFBZ0IsQ0FBUTtRQUNyQixlQUFVLEdBQVYsVUFBVSxDQUFvQjtRQUdqRCxJQUFJLENBQUMsV0FBVyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztJQUM5QixDQUFDO0lBRUQscUJBQXFCLENBQUMsU0FBOEI7UUFDbEQsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQ2hFLENBQUM7SUFFRCxXQUFXO1FBQ1QsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFO1lBQ3BCLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUM7U0FDaEM7UUFDRCxPQUFPLENBQUMsQ0FBQztJQUNYLENBQUM7SUFFRCxVQUFVLENBQUMsUUFBZ0IsRUFBRSxXQUFtQjtRQUM5QyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDakQsQ0FBQztJQUVRLFFBQVEsQ0FBQyxRQUFnQixFQUFFLFdBQW1CLEVBQUUsS0FBVTtRQUNqRSxNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxFQUFFLGFBQWEsQ0FBQztRQUNsRSxJQUFJLGFBQWEsRUFBRTtZQUNqQixLQUFLLEdBQUcsYUFBYSxDQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsV0FBVyxDQUFDLENBQUM7U0FDckQ7UUFDRCxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUN4QyxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFUSxhQUFhLENBQUMsUUFBZ0I7UUFDckMsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFRCxZQUFZLENBQUMsU0FBaUI7UUFDNUIsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7SUFDL0IsQ0FBQztJQUVRLGlCQUFpQixDQUFDLGlCQUF5QixFQUFFLGlCQUF5QjtRQUM3RSxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLGlCQUFpQixFQUFFLGlCQUFpQixDQUFDLENBQUMsQ0FBQztRQUMzRixLQUFLLENBQUMsaUJBQWlCLENBQUMsaUJBQWlCLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztJQUNoRSxDQUFDO0NBR0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBYnN0cmFjdEFyZWFNb2RlbCB9IGZyb20gXCIuL2Fic3RyYWN0LWFyZWEtbW9kZWxcIjtcbmltcG9ydCB7IEFyZWFJZGVudCB9IGZyb20gXCIuLi9hcmVhLWlkZW50LnR5cGVcIjtcbmltcG9ydCB7IENvbHVtbkRlZklmIH0gZnJvbSBcIi4uL2NvbHVtbi9jb2x1bW4tZGVmLmlmXCI7XG5pbXBvcnQgeyBGaWx0ZXJGdW5jdGlvbiB9IGZyb20gXCIuLi8uLi9jb21tb24vZmlsdGVyLWZ1bmN0aW9uXCI7XG5cbmV4cG9ydCBjbGFzcyBBcmVhTW9kZWxBcnJheU9mQXJyYXlzPFQ+IGV4dGVuZHMgQWJzdHJhY3RBcmVhTW9kZWw8VFtdW10+IHtcblxuICBwdWJsaWMgZmlsdGVyZWRBcnI6IFRbXVtdO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBvdmVycmlkZSBhcmVhSWRlbnQ6IEFyZWFJZGVudCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXJyOiBUW11bXSxcbiAgICBwdWJsaWMgb3ZlcnJpZGUgZGVmYXVsdFJvd0hlaWdodDogbnVtYmVyLFxuICAgIHByb3RlY3RlZCBvdmVycmlkZSBjb2x1bW5EZWZzOiBDb2x1bW5EZWZJZltdID0gW11cbiAgKSB7XG4gICAgc3VwZXIoYXJlYUlkZW50LCBjb2x1bW5EZWZzLCBkZWZhdWx0Um93SGVpZ2h0KTtcbiAgICB0aGlzLmZpbHRlcmVkQXJyID0gWy4uLmFycl07XG4gIH1cblxuICBleHRlcm5hbEZpbHRlckNoYW5nZWQocHJlZGljdEZuOiBGaWx0ZXJGdW5jdGlvbjxhbnk+KTogdm9pZCB7XG4gICAgdGhpcy5maWx0ZXJlZEFyciA9IHRoaXMuYXJyID8gdGhpcy5hcnIuZmlsdGVyKHByZWRpY3RGbikgOiBbXTtcbiAgfVxuXG4gIGdldFJvd0NvdW50KCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMuZmlsdGVyZWRBcnIpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcmVkQXJyLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBnZXRWYWx1ZUF0KHJvd0luZGV4OiBudW1iZXIsIGNvbHVtbkluZGV4OiBudW1iZXIpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLmZpbHRlcmVkQXJyW3Jvd0luZGV4XVtjb2x1bW5JbmRleF07XG4gIH1cblxuICBvdmVycmlkZSBzZXRWYWx1ZShyb3dJbmRleDogbnVtYmVyLCBjb2x1bW5JbmRleDogbnVtYmVyLCB2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gICAgY29uc3QgZWRpdElucHV0UGlwZSA9IHRoaXMuY29sdW1uRGVmc1tjb2x1bW5JbmRleF0/LmVkaXRJbnB1dFBpcGU7XG4gICAgaWYgKGVkaXRJbnB1dFBpcGUpIHtcbiAgICAgIHZhbHVlID0gZWRpdElucHV0UGlwZSh2YWx1ZSwgcm93SW5kZXgsIGNvbHVtbkluZGV4KTtcbiAgICB9XG4gICAgdGhpcy5hcnJbcm93SW5kZXhdW2NvbHVtbkluZGV4XSA9IHZhbHVlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgb3ZlcnJpZGUgZ2V0Um93QnlJbmRleChyb3dJbmRleDogbnVtYmVyKTogYW55IHtcbiAgICByZXR1cm4gdGhpcy5maWx0ZXJlZEFycltyb3dJbmRleF07XG4gIH1cblxuICBnZXRSb3dIZWlnaHQoX3Jvd0luZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmRlZmF1bHRSb3dIZWlnaHQ7XG4gIH1cblxuICBvdmVycmlkZSBjaGFuZ2VDb2x1bW5PcmRlcihzb3VyY2VDb2x1bW5JbmRleDogbnVtYmVyLCB0YXJnZXRDb2x1bW5JbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5maWx0ZXJlZEFyci5mb3JFYWNoKHJvdyA9PiB0aGlzLmFycmF5TW92ZShyb3csIHNvdXJjZUNvbHVtbkluZGV4LCB0YXJnZXRDb2x1bW5JbmRleCkpO1xuICAgIHN1cGVyLmNoYW5nZUNvbHVtbk9yZGVyKHNvdXJjZUNvbHVtbkluZGV4LCB0YXJnZXRDb2x1bW5JbmRleCk7XG4gIH1cblxuXG59XG5cbiJdfQ==