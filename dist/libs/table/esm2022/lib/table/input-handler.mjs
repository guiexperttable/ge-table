import { getAreaIdentByString } from "./data/tablemodel/area-ident.type";
export class InputHandler {
    tableScope;
    constructor(tableScope) {
        this.tableScope = tableScope;
        this.tableScope.hostElement.addEventListener("change", this.onHostElementChanged.bind(this));
    }
    onHostElementChanged(event) {
        if (event.target instanceof HTMLInputElement
            || event.target instanceof HTMLSelectElement
            || event.target instanceof HTMLTextAreaElement) {
            const htmpInputEle = event.target;
            const areaIdentStr = htmpInputEle.getAttribute("data-area");
            const rowIndexStr = htmpInputEle.getAttribute("data-row-index");
            const columnIndexStr = htmpInputEle.getAttribute("data-col-index");
            if (areaIdentStr && rowIndexStr && columnIndexStr) {
                const area = getAreaIdentByString(areaIdentStr);
                const rowIndex = Number(rowIndexStr);
                const columnIndex = Number(columnIndexStr);
                this.tableScope.updateModelValueAfterEdit(area, rowIndex, columnIndex, htmpInputEle.value);
            }
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5wdXQtaGFuZGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvdGFibGUvc3JjL2xpYi90YWJsZS9pbnB1dC1oYW5kbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBYSxvQkFBb0IsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBRXBGLE1BQU0sT0FBTyxZQUFZO0lBSVg7SUFEWixZQUNZLFVBQXNCO1FBQXRCLGVBQVUsR0FBVixVQUFVLENBQVk7UUFFaEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUMvRixDQUFDO0lBR08sb0JBQW9CLENBQUMsS0FBWTtRQUN2QyxJQUFJLEtBQUssQ0FBQyxNQUFNLFlBQVksZ0JBQWdCO2VBQ3ZDLEtBQUssQ0FBQyxNQUFNLFlBQVksaUJBQWlCO2VBQ3pDLEtBQUssQ0FBQyxNQUFNLFlBQVksbUJBQW1CLEVBQzlDO1lBQ0EsTUFBTSxZQUFZLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQztZQUNsQyxNQUFNLFlBQVksR0FBRyxZQUFZLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQzVELE1BQU0sV0FBVyxHQUFHLFlBQVksQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNoRSxNQUFNLGNBQWMsR0FBRyxZQUFZLENBQUMsWUFBWSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFFbkUsSUFBSSxZQUFZLElBQUksV0FBVyxJQUFJLGNBQWMsRUFBRTtnQkFDakQsTUFBTSxJQUFJLEdBQWMsb0JBQW9CLENBQUMsWUFBWSxDQUFDLENBQUM7Z0JBQzNELE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDckMsTUFBTSxXQUFXLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDO2dCQUMzQyxJQUFJLENBQUMsVUFBVSxDQUFDLHlCQUF5QixDQUFDLElBQUksRUFBRSxRQUFRLEVBQUUsV0FBVyxFQUFFLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUM1RjtTQUNGO0lBQ0gsQ0FBQztDQUdGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGFibGVTY29wZSB9IGZyb20gXCIuL3RhYmxlLXNjb3BlXCI7XG5pbXBvcnQgeyBBcmVhSWRlbnQsIGdldEFyZWFJZGVudEJ5U3RyaW5nIH0gZnJvbSBcIi4vZGF0YS90YWJsZW1vZGVsL2FyZWEtaWRlbnQudHlwZVwiO1xuXG5leHBvcnQgY2xhc3MgSW5wdXRIYW5kbGVyIHtcblxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCB0YWJsZVNjb3BlOiBUYWJsZVNjb3BlXG4gICkge1xuICAgIHRoaXMudGFibGVTY29wZS5ob3N0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIHRoaXMub25Ib3N0RWxlbWVudENoYW5nZWQuYmluZCh0aGlzKSk7XG4gIH1cblxuXG4gIHByaXZhdGUgb25Ib3N0RWxlbWVudENoYW5nZWQoZXZlbnQ6IEV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnRcbiAgICAgIHx8IGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEhUTUxTZWxlY3RFbGVtZW50XG4gICAgICB8fCBldmVudC50YXJnZXQgaW5zdGFuY2VvZiBIVE1MVGV4dEFyZWFFbGVtZW50XG4gICAgKSB7XG4gICAgICBjb25zdCBodG1wSW5wdXRFbGUgPSBldmVudC50YXJnZXQ7XG4gICAgICBjb25zdCBhcmVhSWRlbnRTdHIgPSBodG1wSW5wdXRFbGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1hcmVhXCIpO1xuICAgICAgY29uc3Qgcm93SW5kZXhTdHIgPSBodG1wSW5wdXRFbGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1yb3ctaW5kZXhcIik7XG4gICAgICBjb25zdCBjb2x1bW5JbmRleFN0ciA9IGh0bXBJbnB1dEVsZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbC1pbmRleFwiKTtcblxuICAgICAgaWYgKGFyZWFJZGVudFN0ciAmJiByb3dJbmRleFN0ciAmJiBjb2x1bW5JbmRleFN0cikge1xuICAgICAgICBjb25zdCBhcmVhOiBBcmVhSWRlbnQgPSBnZXRBcmVhSWRlbnRCeVN0cmluZyhhcmVhSWRlbnRTdHIpO1xuICAgICAgICBjb25zdCByb3dJbmRleCA9IE51bWJlcihyb3dJbmRleFN0cik7XG4gICAgICAgIGNvbnN0IGNvbHVtbkluZGV4ID0gTnVtYmVyKGNvbHVtbkluZGV4U3RyKTtcbiAgICAgICAgdGhpcy50YWJsZVNjb3BlLnVwZGF0ZU1vZGVsVmFsdWVBZnRlckVkaXQoYXJlYSwgcm93SW5kZXgsIGNvbHVtbkluZGV4LCBodG1wSW5wdXRFbGUudmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG5cbn1cbiJdfQ==